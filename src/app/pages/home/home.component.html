<section class="matches">
  <div class="tournament-header">
    <h1>{{ tournamentName }}</h1>
  </div>
  <div class="tabs">
    <button
      class="tab-button"
      [class.active]="activeTab === 'live'"
      (click)="setActiveTab('live')">
      Live
    </button>
    <button
      class="tab-button"
      [class.active]="activeTab === 'scheduled'"
      (click)="setActiveTab('scheduled')">
      Scheduled
    </button>
    <button
      class="tab-button"
      [class.active]="activeTab === 'completed'"
      (click)="setActiveTab('completed')">
      Completed
    </button>
  </div>

  <div class="tab-content">
    <h2>{{ tabTitle }}</h2>

    <div class="match-list">
      <ng-container *ngIf="filteredMatches.length; else noMatches">
        <div *ngFor="let match of filteredMatches; trackBy: trackByMatchID" class="match-item">
          <img [src]="'https://images.gc.wstservices.co.uk/fit-in/400x600/' + match.homePlayer.media.profile" [alt]="match.homePlayer.firstName + ' ' + match.homePlayer.surname" class="player-image">
          <img [src]="'https://images.gc.wstservices.co.uk/fit-in/400x600/' + match.awayPlayer.media.profile" [alt]="match.awayPlayer.firstName + ' ' + match.awayPlayer.surname" class="player-image">
          <div class="match-info">
            <h3>{{ match.name }}</h3>
            <p>Start Date Time: {{ match.startDateTime }}</p>
            <p>Status: {{ match.status | titlecase }}</p>
            <p>Round: {{ match.round }}</p>
            <p>Score: {{ match.homePlayerScore }} - {{ match.awayPlayerScore }}</p>
            <a [routerLink]="'/match/' + match.matchID" class="details-link">View Details</a>
          </div>
          <button class="subscribe-button" (click)="subscribe(match.matchID)">Subscribe</button>
        </div>
      </ng-container>
      <ng-template #noMatches>
        <p class="no-matches">No matches available in this category.</p>
      </ng-template>
    </div>
  </div>
</section>
