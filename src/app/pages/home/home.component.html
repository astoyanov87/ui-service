<section class="matches">
  <div class="tabs">
    <button
      class="tab-button"
      [class.active]="activeTab === 'live'"
      (click)="setActiveTab('live')">
      Live
    </button>
    <button
      class="tab-button"
      [class.active]="activeTab === 'scheduled'"
      (click)="setActiveTab('scheduled')">
      Scheduled
    </button>
    <button
      class="tab-button"
      [class.active]="activeTab === 'completed'"
      (click)="setActiveTab('completed')">
      Completed
    </button>
  </div>

  <div class="tab-content">
    <h2>
      @switch (activeTab) {
        @case ('live') { Live Matches }
        @case ('scheduled') { Scheduled Matches }
        @case ('completed') { Completed Matches }
      }
    </h2>

    <div class="match-list">
      @for (match of filteredMatches; track match.id) {
        <div class="match-item">
          <img [src]="match.player1Image" [alt]="match.player1" class="player-image">
          <img [src]="match.player2Image" [alt]="match.player2" class="player-image">
          <div class="match-info">
            <h3>Match ID: {{ match.id }}</h3>
            <p>{{ match.player1 }} vs. {{ match.player2 }}</p>
            <p>Status: {{ match.status | titlecase }}</p>
            <p>Round: {{ match.round }}</p>
            @if (match.score) {
              <p>Score: {{ match.score }}</p>
            }
            @if (match.scheduledTime) {
              <p>Scheduled Time: {{ match.scheduledTime }}</p>
            }
            <a [routerLink]="['/match', match.id]" class="details-link">View Details</a>
          </div>
          <button class="subscribe-button" (click)="subscribe(match.id)">Subscribe</button>
        </div>
      } @empty {
        <p class="no-matches">No matches available in this category.</p>
      }
    </div>
  </div>
</section>
