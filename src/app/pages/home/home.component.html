<section class="matches">
  <div class="tabs">
    <button
      class="tab-button"
      [class.active]="activeTab === 'live'"
      (click)="setActiveTab('live')">
      Live
    </button>
    <button
      class="tab-button"
      [class.active]="activeTab === 'scheduled'"
      (click)="setActiveTab('scheduled')">
      Scheduled
    </button>
    <button
      class="tab-button"
      [class.active]="activeTab === 'completed'"
      (click)="setActiveTab('completed')">
      Completed
    </button>
  </div>

  <div class="tab-content">
    <h2>
      @switch (activeTab) {
        @case ('live') { Live Matches }
        @case ('scheduled') { Scheduled Matches }
        @case ('completed') { Completed Matches }
      }
    </h2>

    <div class="match-list">
      @for (match of matches; track match.matchID) {
        <div class="match-item">
          <img [src]="match.homePlayer.media.profile" [alt]="match.homePlayer.firstName + ' ' + match.homePlayer.surname" class="player-image">
          <img [src]="match.awayPlayer.media.profile" [alt]="match.awayPlayer.firstName + ' ' + match.awayPlayer.surname" class="player-image">
          <div class="match-info">
            <h3>{{ match.name }}</h3>
            <p>Match ID: {{ match.matchID }}</p>
            <p>Status: {{ match.status | titlecase }}</p>
            <p>Round: {{ match.round }}</p>
            <p>Score: {{ match.homePlayerScore }} - {{ match.awayPlayerScore }}</p>
            <a [routerLink]="['/match', match.matchID]" class="details-link">View Details</a>
          </div>
          <button class="subscribe-button" (click)="subscribe(match.matchID)">Subscribe</button>
        </div>
      } @empty {
        <p class="no-matches">No matches available in this category.</p>
      }
    </div>
  </div>
</section>
